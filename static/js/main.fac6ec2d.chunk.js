(this.webpackJsonpsbdprojectmanager=this.webpackJsonpsbdprojectmanager||[]).push([[0],{124:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(14),o=n.n(c),r=(n(49),n(8)),s=n.n(r),l=n(22),p=n(16),u=n(5),f=n(6),d=n(7),h=n(44),j=n(4),b=n(17),v=n.p+"static/media/SBD_Yellow_Primary.146ba792.png",m=(n(51),n(18)),g=n(42),O=n.n(g),y=n(43),x=n(1),w=[12921371,12964335,12964336,12998921,13325954,20877820,36329995,36330029,36330129,36331086,36492685,36533990,36540113,36540202],S={option:function(e,t){return Object(b.a)(Object(b.a)({},e),{},Object(j.a)({borderBottom:"1px dotted yellow",color:t.isSelected?"blue":"yellow",padding:20,backgroundColor:"#808080"},"color","#ffffff"))},control:function(){return{width:"100%",border:"1px dotted yellow"}},singleValue:function(e,t){var n=t.isDisabled?.5:1;return Object(b.a)(Object(b.a)({},e),{},{opacity:n,transition:"opacity 300ms"})}},k=[],P=[];function C(){if(this.props.item.isSelected){var e=this.props.item.tags[0].value,t=k.indexOf(e);1===k.length?k=[]:-1!==t&&k.splice(t,1),alert(this.props.item.caption+" has been removed!"),this.props.item.isSelected=!1}else{var n=this.props.item.tags[0].value;k.push(n),alert(this.props.item.caption+" has been added!"),this.props.item.isSelected=!0}}function A(e,t){var n=t.action;if("select-option"===n)P.push(t.option.value);else if("clear"===n)P=[];else if("remove-value"===n){var a=P.indexOf(t.removedValue.value);1===P.length?P=[]:-1!==a&&P.splice(t.removedValue.value,a)}else alert("Unrecognized action: "+n+" sent to handleProjectChange().")}var J=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).componentDidMount=Object(p.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(e){var t=a.state.peoplethumbnails;if(e&&e.length>0){var n=t.concat(e);a.setState({peoplethumbnails:n})}},n=function(e){var t=a.state.projects;if(e&&e.length>0){var n=t.concat(e);a.setState({projects:n})}},m.OAuth.initialize("_kPudQPY3u7LLbJwnCHnB8v8y5M"),m.OAuth.popup("basecamp").done((function(e){e.me().done((function(a){for(var i=a.id,c=a.raw.accounts,o=0;o<c.length;o++)if("Stanley Black & Decker"===c[o].name){i=c[o].id;break}var r=function(){var e=Object(p.a)(s.a.mark((function e(n){var a,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(l.a)(w);try{for(a.s();!(c=a.n()).done;)o=c.value,n.get("https://3.basecampapi.com/".concat(i,"/people/").concat(o,".json")).done((function(e){var n={src:e.avatar_url,thumbnail:e.avatar_url,thumbnailWidth:64,thumbnailHeight:64,isSelected:!1,caption:e.name,tags:[{value:e.id,title:e.name}]};t([n])})).fail((function(e){alert("Failed to get person: "+JSON.stringify(e))}))}catch(r){a.e(r)}finally{a.f()}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();r(e);var u=function(){var t=Object(p.a)(s.a.mark((function t(a,c){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.get("https://3.basecampapi.com/".concat(i,"/projects.json?page=").concat(c)).done((function(t){var a,i=[],o=Object(l.a)(t);try{for(o.s();!(a=o.n()).done;){var r=a.value,s={value:r.id,label:r.name};i.push(s)}}catch(p){o.e(p)}finally{o.f()}i.length>0&&(n(i),u(e,c+1))})).fail((function(e){alert("Failed to get projects: "+JSON.stringify(e))}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();u(e,1)}))})).fail((function(e){alert("OAuth failed with err: "+JSON.stringify(e))}));case 4:case"end":return e.stop()}}),e)}))),a.putPeopleToProject=Object(p.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0===k.length||0===P.length?alert("Please select at least one person and one project."):(m.OAuth.initialize("_kPudQPY3u7LLbJwnCHnB8v8y5M"),m.OAuth.popup("basecamp").done((function(e){e.me().done((function(t){for(var n=t.id,a=t.raw.accounts,i=0;i<a.length;i++)if("Stanley Black & Decker"===a[i].name){n=a[i].id;break}var c,o='{ "grant" : ['.concat(k,'], "revoke" : [] }'),r=Object(l.a)(P);try{var s=function(){var t=c.value;e.put("https://3.basecampapi.com/".concat(n,"/projects/").concat(t,"/people/users.json"),{headers:{"Content-Type":"application/json"},data:o}).done((function(e){alert("Success granting users: "+JSON.stringify(e))})).fail((function(e){alert("Failed to grant users: "+JSON.stringify(k)+" for project: "+t+" err: "+JSON.stringify(e))}))};for(r.s();!(c=r.n()).done;)s()}catch(p){r.e(p)}finally{r.f()}}))})).fail((function(e){alert("OAuth failed with err: "+JSON.stringify(e))})));case 1:case"end":return e.stop()}}),e)}))),a.state={peoplethumbnails:[],projects:[]},a}return Object(f.a)(n,[{key:"render",value:function(){return Object(x.jsx)("div",{className:"App",children:Object(x.jsxs)("body",{className:"App-header",children:[Object(x.jsxs)("div",{style:{align:"left"},children:[Object(x.jsx)("img",{src:v,alt:"logo",width:"293.88888888888",height:"46"})," Project Management Tool (",Object(x.jsx)("i",{children:"invite only"}),")"]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{}),"All People:",Object(x.jsx)("div",{children:Object(x.jsx)(O.a,{images:this.state.peoplethumbnails,onClickThumbnail:C})})]}),Object(x.jsx)("p",{}),Object(x.jsxs)("div",{children:["All Projects:",Object(x.jsx)("div",{children:Object(x.jsx)(y.a,{id:"projectselector",options:this.state.projects,isMulti:!0,onChange:A,styles:S})})]}),Object(x.jsx)("p",{}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{onClick:this.putPeopleToProject,style:{fontSize:"48px",height:"80px",width:"65%",backgroundColor:"#808080",color:"#ffffff"},children:"Add People to Projects"})}),Object(x.jsx)("p",{}),Object(x.jsx)("p",{})]})})}}]),n}(i.a.Component),N=J,B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,125)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),c(e),o(e)}))};o.a.render(Object(x.jsx)(i.a.StrictMode,{children:Object(x.jsx)(N,{})}),document.getElementById("root")),B()},49:function(e,t,n){},51:function(e,t,n){}},[[124,1,2]]]);
//# sourceMappingURL=main.fac6ec2d.chunk.js.map