(this.webpackJsonpsbdprojectmanager=this.webpackJsonpsbdprojectmanager||[]).push([[0],{124:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(14),c=n.n(r),o=(n(49),n(8)),s=n.n(o),l=n(22),u=n(16),p=n(5),f=n(6),d=n(7),h=n(44),j=n(4),b=n(17),v=n.p+"static/media/SBD_Yellow_Primary.146ba792.png",g=(n(51),n(18)),m=n(42),O=n.n(m),y=n(43),x=n(1),w=[12921371,12964335,12964336,12998921,13325954,20877820,36329995,36330029,36330129,36331086,36492685,36533990,36540113,36540202],S=[12964335,36329995,36330129],k={option:function(e,t){return Object(b.a)(Object(b.a)({},e),{},Object(j.a)({borderBottom:"1px dotted yellow",color:t.isSelected?"blue":"yellow",padding:20,backgroundColor:"#808080"},"color","#ffffff"))},control:function(){return{width:"100%",border:"1px dotted yellow"}},singleValue:function(e,t){var n=t.isDisabled?.5:1;return Object(b.a)(Object(b.a)({},e),{},{opacity:n,transition:"opacity 300ms"})}},P=[],C=[];function A(){if(this.props.item.isSelected){var e=this.props.item.tags[0].value,t=P.indexOf(e);1===P.length?P=[]:-1!==t&&P.splice(t,1),alert(this.props.item.caption+" has been removed!"),this.props.item.isSelected=!1}else{var n=this.props.item.tags[0].value;P.push(n),alert(this.props.item.caption+" has been added!"),this.props.item.isSelected=!0}}function J(e,t){var n=t.action;if("select-option"===n)C.push(t.option.value);else if("clear"===n)C=[];else if("remove-value"===n){var a=C.indexOf(t.removedValue.value);1===C.length?C=[]:-1!==a&&C.splice(t.removedValue.value,a)}else alert("Unrecognized action: "+n+" sent to handleProjectChange().")}var N=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).componentDidMount=Object(u.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(e){var t=a.state.peoplethumbnails;if(e&&e.length>0){var n=t.concat(e);n.sort((function(e,t){return e.tags[0].value>t.tags[0].value?1:-1})),a.setState({peoplethumbnails:n})}},n=function(e){var t=a.state.projects;if(e&&e.length>0){var n=t.concat(e);a.setState({projects:n})}},g.OAuth.initialize("_kPudQPY3u7LLbJwnCHnB8v8y5M"),g.OAuth.popup("basecamp").done((function(e){e.me().done((function(a){for(var i=a.id,r=a.raw.accounts,c=0;c<r.length;c++)if("Stanley Black & Decker"===r[c].name){i=r[c].id;break}var o=function(){var e=Object(u.a)(s.a.mark((function e(n){var a,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(l.a)(w);try{for(a.s();!(r=a.n()).done;)c=r.value,n.get("https://3.basecampapi.com/".concat(i,"/people/").concat(c,".json")).done((function(e){var n=-1!==S.indexOf(e.id);n&&P.push(e.id);var a={src:e.avatar_url,thumbnail:e.avatar_url,thumbnailWidth:64,thumbnailHeight:64,isSelected:n,caption:e.name,tags:[{value:e.id,title:e.name}]};t([a])})).fail((function(e){alert("Failed to get person: "+JSON.stringify(e))}))}catch(o){a.e(o)}finally{a.f()}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();o(e);var p=function(){var t=Object(u.a)(s.a.mark((function t(a,r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.get("https://3.basecampapi.com/".concat(i,"/projects.json?page=").concat(r)).done((function(t){var a,i=[],c=Object(l.a)(t);try{for(c.s();!(a=c.n()).done;){var o=a.value,s={value:o.id,label:o.name};i.push(s)}}catch(u){c.e(u)}finally{c.f()}i.length>0&&(n(i),p(e,r+1))})).fail((function(e){alert("Failed to get projects: "+JSON.stringify(e))}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();p(e,1)}))})).fail((function(e){alert("OAuth failed with err: "+JSON.stringify(e))}));case 4:case"end":return e.stop()}}),e)}))),a.putPeopleToProject=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0===P.length||0===C.length?alert("Please select at least one person and one project."):(g.OAuth.initialize("_kPudQPY3u7LLbJwnCHnB8v8y5M"),g.OAuth.popup("basecamp").done((function(e){e.me().done((function(t){for(var n=t.id,a=t.raw.accounts,i=0;i<a.length;i++)if("Stanley Black & Decker"===a[i].name){n=a[i].id;break}var r,c='{ "grant" : ['.concat(P,'], "revoke" : [] }'),o=Object(l.a)(C);try{var s=function(){var t=r.value;e.put("https://3.basecampapi.com/".concat(n,"/projects/").concat(t,"/people/users.json"),{headers:{"Content-Type":"application/json"},data:c}).done((function(e){alert("Success granting users: "+JSON.stringify(e))})).fail((function(e){alert("Failed to grant users: "+JSON.stringify(P)+" for project: "+t+" err: "+JSON.stringify(e))}))};for(o.s();!(r=o.n()).done;)s()}catch(u){o.e(u)}finally{o.f()}}))})).fail((function(e){alert("OAuth failed with err: "+JSON.stringify(e))})));case 1:case"end":return e.stop()}}),e)}))),a.state={peoplethumbnails:[],projects:[]},a}return Object(f.a)(n,[{key:"render",value:function(){return Object(x.jsx)("div",{className:"App",children:Object(x.jsxs)("body",{className:"App-header",children:[Object(x.jsxs)("div",{style:{align:"left"},children:[Object(x.jsx)("img",{src:v,alt:"logo",width:"293.88888888888",height:"46"})," Project Management Tool (",Object(x.jsx)("i",{children:"invite only"}),")"]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{}),"All People:",Object(x.jsx)("div",{children:Object(x.jsx)(O.a,{images:this.state.peoplethumbnails,onClickThumbnail:A})})]}),Object(x.jsx)("p",{}),Object(x.jsxs)("div",{children:["All Projects:",Object(x.jsx)("div",{children:Object(x.jsx)(y.a,{id:"projectselector",options:this.state.projects,isMulti:!0,onChange:J,styles:k})})]}),Object(x.jsx)("p",{}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{onClick:this.putPeopleToProject,style:{fontSize:"48px",height:"80px",width:"65%",backgroundColor:"#808080",color:"#ffffff"},children:"Add People to Projects"})}),Object(x.jsx)("p",{}),Object(x.jsx)("p",{})]})})}}]),n}(i.a.Component),B=N,F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,125)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),r(e),c(e)}))};c.a.render(Object(x.jsx)(i.a.StrictMode,{children:Object(x.jsx)(B,{})}),document.getElementById("root")),F()},49:function(e,t,n){},51:function(e,t,n){}},[[124,1,2]]]);
//# sourceMappingURL=main.8cb825c5.chunk.js.map